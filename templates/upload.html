<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}"/>
</head>
<body>
    <h1>Subir imagen:</h1>
    <hr/>
    <form action="/upload-image" method="POST" enctype="multipart/form-data">
        <label for="image" >Selecciona una imagen:</label>
        <input type="file" name="image" id="image"/>
        
        <input type="submit" value="OK">
    </form>
    <button id="subir">CLICK ME</button>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script type="text/javascript">
       $(function() {
            $('#subir').click(function() {
                var form_data = new FormData();
                form_data.append('file', $('#image').prop('files')[0]);
                $.ajax({
                    type: 'POST',
                    url:  'http://localhost:5000/upload-image',
                    data: form_data,
                    contentType: false,
                    cache: false,
                    processData: false,
                    success: function(data) {
                        console.log('Success!');
                    },
                });
            });
       });
    </script>  
</body>
</html>